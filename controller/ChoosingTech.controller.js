"use strict";sap.ui.define(["ui2/choosingtech/controller/BaseController"],function(t){"use strict";return t.extend("ui2.choosingtech.controller.ChoosingTech",{onInit:function e(){t.prototype.init.apply(this,arguments);this.oRouter.getRoute("ChoosingTech").attachPatternMatched(this.handleRouteMatched,this)},handleRouteMatched:function t(){var e=this;var n=this.getView().getModel("dataModel").getProperty("/transactions");if(n&&n.length){var o=n.findIndex(function(t){return t.id===e.arguments.transaction});this.getView().bindElement({path:"/transactions/".concat(o),model:"dataModel"});this.bindData(n[o].tech_step||"1");if(n[o].tech_step){var i=this.getView().getModel().getProperty("/choosing/".concat(n[o].tech_step));var a=i.criterions.findIndex(function(t){return t.title===n[o].technology});this.getView().getModel().setProperty("/choosing/".concat(n[o].tech_step,"/criterions/").concat(a,"/selected"),true)}}else{this.goToPage("StartPage")}},bindData:function t(e){this.byId("idQuestionPage1").bindElement({path:"/choosing/".concat(e)});this.getView().getModel().getProperty("/choosing/".concat(e,"/criterions")).forEach(function(t,n){this.getView().getModel().setProperty("/choosing/".concat(e,"/criterions").concat(n,"/selected"),false)}.bind(this))},onYes:function t(){var e=this.byId("idQuestionPage1").getBindingContext().getObject();this.bindData(e.yes)},onNo:function t(){var e=this.byId("idQuestionPage1").getBindingContext().getObject();this.bindData(e.no)},onReset:function t(){var e=this.getCurrentTransactionContext();e.getModel().setProperty(e.getPath()+"/technology","");e.getModel().setProperty(e.getPath()+"/tech_step","");this.bindData("1")},onTechSelect:function t(e){var n=e.getParameter("listItem");var o=n.getBindingContext().getObject();var i=this.getCurrentTransactionContext();i.getModel().setProperty(i.getPath()+"/technology",o.title);i.getModel().setProperty(i.getPath()+"/tech_step",n.getBindingContext().getPath().split("/")[2])},onCostCalculation:function t(){this.goToPage("CostCalculation",{transaction:this.arguments.transaction,layout:this.arguments.layout})},getCurrentTransactionContext:function t(){return this.byId("idChoosingNav").getCurrentPage().getBindingContext("dataModel")},getListMode:function t(e){return e?"SingleSelectMaster":"None"}})});