/*!
 * SAPUI5
 * (c) Copyright 2009-2021 SAP SE. All rights reserved.
 */
sap.ui.define(["sap/ui/core/library","sap/m/library","sap/m/Dialog","sap/m/Button","sap/m/ProgressIndicator","sap/m/Text","sap/m/MessageBox"],function(e,t,n,a,s,i,r){"use strict";var o=e.ValueState;var u=t.DialogType;var l=sap.ui.getCore().getLibraryResourceBundle("sap.ui.export",true);function T(){return new Promise(function(e,t){var r;l.then(function(t){var l=new a({text:t.getText("CANCEL_BUTTON"),press:function(){if(r&&r.oncancel){r.oncancel()}r.finish()}});var T=new s({displayAnimation:false,displayValue:"0 / 0",showValue:true,height:"0.75rem",state:o.Information});T.addStyleClass("sapUiMediumMarginTop");var c=new i({text:t.getText("PROGRESS_FETCHING_MSG")});r=new n({title:t.getText("PROGRESS_TITLE"),type:u.Message,contentWidth:"500px",content:[c,T],endButton:l,ariaLabelledBy:[c]});r.updateStatus=function(e,n){var a;if(!isNaN(e)&!isNaN(n)){a=e/n*100}if(a>=100){l.setEnabled(false);c.setText(t.getText("PROGRESS_BUNDLE_MSG"))}T.setPercentValue(a);if(isNaN(n)||n<=0||n>=1048575){n="âˆž"}if(!isNaN(e)){T.setDisplayValue(""+e+" / "+n)}};r.finish=function(){r.close();r.destroy()};e(r)})})}function c(e){return new Promise(function(t,s){l.then(function(r){var l,T,c,g;l=false;g=e.rows?r.getText("SIZE_WARNING_MSG",[e.rows,e.columns]):r.getText("NO_COUNT_WARNING_MSG");c=new i({text:g});T=new n({title:r.getText("PROGRESS_TITLE"),type:u.Message,state:o.Warning,content:c,ariaLabelledBy:c,beginButton:new a({text:r.getText("CANCEL_BUTTON"),press:function(){T.close()}}),endButton:new a({text:r.getText("EXPORT_BUTTON"),press:function(){l=true;T.close()}}),afterClose:function(){T.destroy();l?t():s()}});T.open()})})}function g(e){l.then(function(t){var n=e||t.getText("PROGRESS_ERROR_DEFAULT");r.error(t.getText("PROGRESS_ERROR_MSG")+"\n\n"+n,{title:t.getText("PROGRESS_ERROR_TITLE")})})}return{getProgressDialog:T,showErrorMessage:g,showWarningDialog:c}},true);